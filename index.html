<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sistemática Comercial · MVP</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- HEADER -->
  <header>
    <h1>Sistemática Comercial</h1>
    <div class="userbar">
      <span class="welcome">Bienvenido Cristóbal Alfaro S.</span>
      <label for="role" class="role-label">Rol:</label>
      <select id="role"></select>
      <button id="btnExit" type="button">Salir</button>
    </div>
  </header>

  <div class="layout">
    <!-- SIDEBAR -->
    <nav class="tabs vertical">
      <button data-tab="intro" class="active">Introducción</button>
      <button data-tab="agenda">Agenda</button>
      <button data-tab="macro">Ciclo Comercial</button>
      <button data-tab="toolkit">Toolkit</button>
      <button data-tab="history">Historial</button>
    </nav>

    <!-- CONTENIDO -->
    <main>
      <!-- INTRODUCCIÓN -->
      <section id="intro" class="tab active">
        <div id="introContent"></div>

        <!-- Plantilla para poder reusar/modificar sin tocar JS -->
        <template id="introTemplate">
          <h2>¿Qué es una Sistemática Comercial?</h2>
          <p>
            Una Sistemática Comercial es un modelo de trabajo estructurado que define cómo una
            organización planifica, ejecuta y mide sus actividades comerciales a lo largo del tiempo.
            Su objetivo es alinear la gestión de ventas, el relacionamiento con los clientes y la
            administración de oportunidades en torno a procesos comunes, herramientas compartidas y
            estándares de ejecución.
          </p>
          <p>
            En la práctica, una sistemática traduce la estrategia comercial en acciones concretas:
            define etapas, tareas, interlocutores, herramientas, indicadores y tiempos para cada rol
            del equipo comercial, asegurando consistencia, trazabilidad y mejora continua.
          </p>

          <h2>¿Para qué sirve?</h2>
          <ul>
            <li><strong>Claridad y alineamiento:</strong> todos los roles comerciales comparten una misma hoja de ruta y objetivos.</li>
            <li><strong>Eficiencia:</strong> se eliminan redundancias, se optimizan tiempos y se priorizan las actividades de mayor impacto.</li>
            <li><strong>Seguimiento:</strong> la sistemática facilita medir cumplimiento, identificar brechas y monitorear el desempeño de manera continua.</li>
            <li><strong>Desarrollo de capacidades:</strong> los equipos fortalecen sus prácticas a través de rutinas y herramientas comunes.</li>
            <li><strong>Escalabilidad:</strong> la organización puede replicar buenas prácticas en distintas regiones, productos o segmentos.</li>
          </ul>
        </template>
      </section>

      <!-- AGENDA (ESTÁTICA) -->
      <section id="agenda" class="tab">
        <div class="section-header">
          <div class="section-icon">
            <!-- Icono calendario -->
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="#c62828" stroke-width="3">
              <rect x="6" y="10" width="36" height="32" rx="4" ry="4"/>
              <line x1="6" y1="18" x2="42" y2="18"/>
              <line x1="16" y1="6" x2="16" y2="14"/>
              <line x1="32" y1="6" x2="32" y2="14"/>
            </svg>
          </div>
          <h2>Agenda semanal y diaria</h2>
        </div>

        <div class="agenda-card">
          <div class="agenda-semanal">
            <div class="dia">
              <div class="titulo">Lun</div>
              <div class="bloque">
                <strong>AM</strong>
                <ol>
                  <li>Revisión documento de indicadores financieros semanales.</li>
                  <li>Coordinación con Equipo Select Inversiones.</li>
                  <li>Comité de visitas.</li>
                </ol>
                <strong>PM</strong>
                <ol>
                  <li>Visita del coach de seguros.</li>
                </ol>
              </div>
            </div>

            <div class="dia">
              <div class="titulo">Mar</div>
              <div class="bloque">
                <strong>AM</strong>
                <ol>
                  <li>Conexión call estrategia Fondos Mutuos BSAN. <em>09:00 AM Auditorio</em></li>
                </ol>
                <strong>PM</strong>
                <ol>
                  <li>Visita del coach de seguros.</li>
                </ol>
              </div>
            </div>

            <div class="dia">
              <div class="titulo">Mie</div>
              <div class="bloque">
                <strong>AM</strong>
                <ol>
                  <li>Revisión casos de experiencia.</li>
                  <li>Conexión call estrategia inversiones. <em>09:00 AM Auditorio</em></li>
                </ol>
                <strong>PM</strong>
                <ol>
                  <li>Participación reunión estrategia de inversiones.</li>
                </ol>
              </div>
            </div>

            <div class="dia">
              <div class="titulo">Jue</div>
              <div class="bloque">
                <strong>AM</strong>
                <ol>
                  <li>Conexión call estrategia Fondos Mutuos BSAN. <em>09:00 AM Auditorio</em></li>
                  <li>Actualización de mercado potencial.</li>
                </ol>
                <strong>PM</strong>
                <ol>
                  <li>Actualización de mercado potencial.</li>
                </ol>
              </div>
            </div>

            <div class="dia">
              <div class="titulo">Vie</div>
              <div class="bloque">
                <strong>AM</strong>
                <ol>
                  <li>Conexión call estrategia acciones. <em>09:00 AM Auditorio</em></li>
                  <li>Revisión visitas y mercado potencial.</li>
                </ol>
                <strong>PM</strong>
                <ol>
                  <li>Revisión de visitas y mercado potencial.</li>
                </ol>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CICLO COMERCIAL (CHECKLIST COMPLETO) -->
      <section id="macro" class="tab">
        <div class="section-header">
          <div class="section-icon">
            <!-- Icono genérico de proceso -->
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="#c62828" stroke-width="3">
              <circle cx="24" cy="24" r="20"></circle>
              <path d="M14 24h20M24 14v20"></path>
            </svg>
          </div>
          <h2>Ciclo Comercial</h2>
        </div>

        <div id="fullChecklist"></div>

        <!-- Observaciones / info del período -->
        <div class="eval-footer">
          <div class="grid two">
            <input id="clientesConsiderados" placeholder="Clientes considerados para la evaluación">
            <input id="periodoDesde" type="date" placeholder="Fecha desde">
            <input id="periodoHasta" type="date" placeholder="Fecha hasta">
            <input id="comentarios" placeholder="Comentarios de la visita (opcional)">
          </div>
          <div class="actions">
            <button id="btnSaveFullChecklist">Guardar</button>
            <button id="btnClearFullChecklist" type="button" class="ghost">Borrar datos</button>
          </div>
        </div>
      </section>

      <!-- TOOLKIT -->
      <section id="toolkit" class="tab">
        <div class="section-header">
          <div class="section-icon">
            <!-- Icono toolbox -->
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="#c62828" stroke-width="3">
              <path d="M8 18h32v18H8z"/>
              <path d="M16 18v-4h16v4M18 26h12"/>
            </svg>
          </div>
          <h2>Toolkit</h2>
        </div>

        <div id="toolkitList" class="toolkit-grid"></div>
      </section>

      <!-- HISTORIAL -->
      <section id="history" class="tab">
        <div class="section-header">
          <div class="section-icon">
            <!-- Icono historial / check -->
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="#c62828" stroke-width="3">
              <rect x="8" y="8" width="32" height="32" rx="6"></rect>
              <path d="M16 26l6 6 12-12"/>
            </svg>
          </div>
          <h2>Historial</h2>
        </div>

        <div class="hist-section">
          <div class="hist-left">
            <div class="avatar"></div>
            <div class="kpi-total">
              <div class="kpi-title">% Total todas las etapas acumulado a la fecha</div>
              <div class="kpi-value" id="kpiTotal">—</div>
            </div>
            <ul id="kpiEtapas" class="kpi-etapas"></ul>
          </div>

          <div class="hist-right">
            <h3>Evaluaciones</h3>
            <div id="kpiMeses" class="kpi-meses"></div>
          </div>
        </div>

        <h3>Últimos registros</h3>
        <table id="histChecklist">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Etapa</th>
              <th>Ítem</th>
              <th>Valor</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </main>
  </div>

  <footer>MVP · Montserrat · LocalStorage + Google Sheets</footer>

  <div id="toast" class="toast"></div>

  <script src="app.js"></script>
</body>
</html>
